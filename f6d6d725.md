---
date: 2021-04-11T10:27
---

# Cryptocurrency

- [Intrinsic value of bitcoin](https://bitcoinmagazine.com/business/op-ed-debunking-bitcoin-myths-the-intrinsic-value-fallacy)

## Proof of Work
- Somebody can prove to you that they've engaged in a significant amount of computation. They amount to puzzles. They are easily verifiable.
- Bitcoin leverages POW protocol in context of creating transation blockchains.
- Other applications: It's also can be used in denying DOS attacks by asking the client to solve a POW puzzle before making requests to server. Or avoiding SPAM emails.
- challenge string (C) + proof/response (P - generated by prover) --hashed--> gives a string with very specific property (first d bits are 0 etc. - the 'd' maps to the difficulty of POW)
- [Reusable Proof of Work (RPoW)](https://en.wikipedia.org/wiki/Proof_of_work#Reusable_proof-of-work) - basically allows PoW tokens to be reused. So a service provider can demand RPoW for exchange of its services. The new owner can they reuse the RPoW for his/her own purposes [a third party server which also accepts RPoW]. It never really caught on though.  
The purpose of RPoW is as token money. Just like the value of real gold coins are underpinned by the amount of gold needed to create it, the value of RPoW tokens is underpinned by the amount of computation needed to 'mint' the original PoW token.
- PoW networks can face Sybil attacks or DOS attacks.
- PoW solves the distributed consensus problem (no single trusted authority) while also allows for free entry into the consensus process (thus solving the question of who gets to influence the consensus process). It's also resistant to Sybil attacks.
- In PoW, the weight of single node in the consensus process is proportional to the amount of computational resources it brings. Contrast this with proof of Stake (PoS) where this weight is proportional to the currency holdings. 


- resources: [khan academy](https://www.youtube.com/watch?v=9V1bipPkCTU)

### [Sybil attack](https://en.wikipedia.org/wiki/Sybil_attack)
- One in which a reputation system is subverted by creating multiple identities. A reputation systems's vulnerability to sybil attack depends on how easy it is to create new identities, whether the identities are fungible, how easily the reputation system accepts input from identities which are not linked back to a trusted source.

## [Bitcoin as a state transition system](https://ethereum.org/en/whitepaper/#bitcoin-as-a-state-transition-system)

```python
Apply(S, TX) -> S'
```   
Here `S` contains all Unspent transaction outputs (UTXOs). Each of these UTXO having a denomination and an owner (essentially a cryptographic public key).  
`TX` can contain multiple transations, with each transation having multiple inputs, each containing a reference to an existing UTXO and a cryptographic signature produced by the private key of the owner (thereby establishing ownership of the input UTXO). The transaction can have multiple outputs, which produce multiple UTXO (which is added to the new state).  

The state transition function `APPLY(S,TX) -> S'` can be defined roughly as follows:

1. For each input in TX:
   - If the referenced UTXO is not in S, return an error.
   - If the provided signature does not match the owner of the UTXO, return an error.
2. If the sum of the denominations of all input UTXO is less than the sum of the denominations of all output UTXO, return an error.
3. Return S' with all input UTXO removed and all output UTXO added.



## Digital Assets
- Colored coins: by carefully tracking the origin of bitcoins, it's possible to "color" it so as to distinguish it from the rest. These colored bitcoins can then represent stocks/bonds, alternate currencies, smart contracts.
- the question colored coins asked was: is it possible to use bitcoin technology for other applications as well? - "provably fair gambling systems" like SatoshiDice, transperancy in business and NGOs etc.
  - A local community might wish to create a community currency, using the Bitcoin infrastructure to securely store funds.
  - A company may wish to create a corporate currency, such as Air Miles rewards points, or even plain coupons.
  - An issuer might wish to release a coin to represent deposits, allowing people to trade, for example, "Bitstamp-USD coins" or some gold storage company's "gold coins".
  
- <b>ERC-721</b> is the first standard to create NFTs on ethereum blockchain. <b>ERC-1155</b> is the standard to create semi-fungible assets using which one can create a commodity class - there can be x number of particular digital commodity, each fungible among themselves.



## Non-fungible Tokens
- It's a digital certificate of ownership and authenticity that says you are the owner of a unique piece of digital asset like GIF or digital art.
- It very much maps to collectibles in real life. [Open Sea](https://opensea.io) is an NFT marketplace. So is [Rarible](https://rarible.com) which allows one to convert their digital art to NFTs.


---
## Ethereum

### Accounts
- in ehtereum, the state is made of objects called "accounts'. State transitions are direct transfer of value and information between accounts. It has 4 fields:
  - nonce (what's the use of nonce??): integer that is incremented everytime the contract is executed. what happens for EOA(??)
  - ether balance
  - contract code, if present
  - account's storage, if present

- **Externally owned accounts** (controlled by private keys) and **contract accounts** (controlled by contract code)
- smart contract addressed identify a smart contract on the blockchain
- EOA is mostly controlled by humans, but you might give the private key to a program off blockchain, and so the EOA is now owned by that program.

### Transactions

1. a transaction is used to in ethereum is a signed data packaged that stores a message to be sent from an external owned account. It contains:
- receipient of the message
- signature identifying the sender
- amount of ether to be transferred (expressed in wei, where 1 ether = 10^18 wei)
- optional data field (what's the use??)
- STARTGAS - maximum number of computation steps the transaction execution is allowed to take
- GASPRICE - fee (ether, actually expressed as gwei, where 1 ether = 10^9 gwei) the sender pays per computational step.  

A signature is also included in the transaction, which is signed using the private key of the sender

2. STARTGAS and GASPRICE are crucial for enthereum's anti-denial of service model (to prevent malicious infinite loops or computational wastage). The fundamental unit of computations is **gas**. Usually each computational step costs 1 gas, but some steps might cost more because they are more expensive to perform or result in storage increase. Also, for each byte in transaction data, there is a fees of 5 gas.
3. The idea is to require an attacker to pay proportionately for each kind of resource they use - computations, bandwidth or storage.

### Messages
1. contracts have the ability to send "messages" to other contracts. These are virtual objects that're never serialized and exist only in the ethereum execution environment. It contains:
- sender of the message
- recipient 
- amount of ether to transfer
- optional data field
- STARTGAS value

2. message is like a transaction, except that it's produced by a contract and not an external actor. It allows contracts to have relationships with other contracts, in the same way external accounts can.
3. Gas allowances assigned transaction or contract applies to the total gas consumed by that transaction and all sub-executions.

---
### questions
- what really is the energy consumption of bitcoin (or in general, blockchain) network?
- what happens when a bitcoin wallet is lost? Can someone lose a lot of bitcoins and those would be out of circulation forever? What does this always decreasing property of bitcoin means for its stability?
- how much time does it take for a transaction to be verified? How far into the future can it be refuted?
- how merkel trees are used in bitcoins?

