---
date: 2021-05-10T21:21
---

# Rust

```bash
## compile a file
rustc sample.rs && ./sample

```

Cargo: rust's build system and package manager

```bash
cargo new new_project

cargo build ## just build (and install new dependencies, if there)
cargo run   ## build and run
cargo check ## just check if the code can compile. Faster than cargo build, 
            ## so used in development flow
cargo build --release ## build the release profile
cargo update ## update the dependencies
```
Cargo creates a file Cargo.toml which uses TOML as it's configuration language.

- const can never be mut, while let variables can be mut. Also, const has to be set to some constant and not a return value from a function.
- We can change the type of a variable with shadowing. what's the use of shadowing?
- scalar types: integer, float, boolean, character
- a char is 4 bytes in size and can store unicode scalar values 
- compound data types: tuples and array
- a tuple can be destructured (pattern matching) to get individual elements or simply use tuple.0, tuple.1 etc. 
- arrays
```rust
// compound: arrays - allocated on stack
let arr: [i32; 5] = [1,2,3,4,5];
let all_3 = [3; 5];
```

- statements vs expression: the former doesn't return a value, the later does.
```rust
let y = {
    let x = 3;
    x + 1  // no semicolon, adding one makes it a statement and the block won't return anything
};
```

- loops and breaks (can return values)
```rust

let mut counter = 0;
let result = loop {
    counter += 1;
    if counter == 10 {
        break counter;
    }
};

println!("tried {} times", result);


/// range and iter

for number in (1..4).rev() { println!("{}!", number); }  // or (1..=3)
println!("liftoff!");
```

- the **prelude**: list of things that Rust automatically imports into every rust program.
- **String** type: UTF-8 encoded bit of string

- generate random number:
```rust
use rand::Rng;
let secret_num = rand::thread_rng().gen_range(1..101);
```

- view doc of a cargo project and all dependencies: `cargo doc --open`
- match construct (kind like switch case):
```rust
// parse() returns a Result which is an enumeration with values Ok or Err.
let guess: u32 = match "42".trim().parse() {
    Ok(num) => num,
    Err(_) => continue,
};

```

